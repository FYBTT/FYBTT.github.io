I"Z<h1 id="为-jekyll-中的代码块添加行号">为 jekyll 中的代码块添加行号</h1>

<blockquote>
  <p>使用<code class="highlighter-rouge">prism.js</code>为代码块添加行号</p>
</blockquote>

<h2 id="1-下载安装-prismjs">1. 下载安装 <code class="highlighter-rouge">prism.js</code></h2>

<p>在<a href="https://prismjs.com/download.html">官网</a>下载<code class="highlighter-rouge">prism.js</code>和<code class="highlighter-rouge">prism.css</code>，可以自定义选择主题、支持语言及插件，这里的主题是<code class="highlighter-rouge">Okaidia</code>。支持的语言没必要选太多，不然体积会比较大，并且最上面最好选择<code class="highlighter-rouge">Minified version</code>。<br />
网页拉到底下载js和css文件，下载后分别复制到<code class="highlighter-rouge">js</code>和<code class="highlighter-rouge">css</code>文件夹即可。</p>

<h2 id="2-js和css文件的引入">2. js和css文件的引入</h2>

<p>在<code class="highlighter-rouge">_include/head.html</code>中添加以下内容</p>

<pre><code class="language-html{.line-numbers}">&lt;!-- line number for code block --&gt;
&lt;script src="/js/prism.js"&gt;&lt;/script&gt;
&lt;link rel="stylesheet" href="/css/prism.css"&gt;
</code></pre>

<p>在<code class="highlighter-rouge">_include/footer.html</code>中添加：</p>

<pre><code class="language-html{.line-numbers}">&lt;!-- line number for code block --&gt;
&lt;script&gt;
var pres = document.getElementsByTagName("pre");
for(var i = 0; i &lt; pres.length; i++){
    var pre = pres[i];
    if(pre.childNodes[0].nodeName == "CODE"){
        pre.setAttribute("class","line-numbers");
    }
}
&lt;/script&gt;
</code></pre>

<h2 id="3-使用">3. 使用</h2>

<p>大功告成，只需在markdown文件中使用<code class="highlighter-rouge">~~~</code>或<code>```</code>中就可以愉快的显示行号了。</p>

<p>如：</p>

<pre><code class="language-markdown{.line-numbers}">```cpp
int main(){
    return 0;
}
```
</code></pre>

<p>效果如下：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="注意">注意</h2>

<ol>
  <li>对于没有指定语言的代码块，不显示效果，所以无论如何都要指定语言，随便指定都可以，会被解析成 plaintext。</li>
  <li>在 Github-Pages 对行内（inline）代码也添加样式，但在本地不会这样，可能是 jekyll 的版本问题。</li>
</ol>

<h2 id="参考文章">参考文章</h2>

<ol>
  <li><a href="https://blog.csdn.net/u013961139/article/details/78853544">使用prismjs实现Jekyll代码语法高亮并显示行号</a></li>
</ol>
:ET